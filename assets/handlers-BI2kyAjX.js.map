{"version":3,"file":"handlers-BI2kyAjX.js","sources":["../../src/js/refs.js","../../src/js/render-function.js","../../src/js/helpers.js","../../src/js/storage.js","../../src/js/constants.js","../../src/js/products-api.js","../../src/js/modal.js","../../src/js/handlers.js"],"sourcesContent":["'use strict';\n\n//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n  catList: document.querySelector('ul.categories'),\n  prodList: document.querySelector('ul.products'),\n  divNotFound: document.querySelector('div.not-found'),\n  loadMoreBtn: document.querySelector('button.load-more'),\n  loader: document.querySelector('.loader'),\n  closeModalBtn: document.querySelector('[data-modal-close]'),\n  modal: document.querySelector('[data-modal]'),\n  modalProduct: document.querySelector('div.modal-product'),\n  searchForm: document.querySelector('form.search-form'),\n  clearSearchBtn: document.querySelector('button.search-form__btn-clear'),\n  addToCartBtn: document.querySelector('button.modal-product__btn--cart'),\n  addToWishListBtn: document.querySelector(\n    'button.modal-product__btn--wishlist'\n  ),\n  spanNavCart: document.querySelector('span[data-cart-count]'),\n  spanNavWishList: document.querySelector('span[data-wishlist-count]'),\n  spanCartDataCount: document.querySelector('span[data-count]'),\n  spanCartDataPrice: document.querySelector('span[data-price]'),\n  cartBuyBtn: document.querySelector('button.cart-summary__btn'),\n  goToTopOfListBtn: document.querySelector('button.go-to-top-of-list'),\n  changeThemeBtn: document.querySelector('button.theme-toggle-button'),\n  body: document.querySelector('body'),\n  decreaseBtn: document.querySelector('button.decrease-btn'),\n  increaseBtn: document.querySelector('button.increase-btn'),\n  productQuantity: document.querySelector('input.product-quantity'),\n};\n","'use strict';\n\nimport { refs } from './refs';\n\n//Функцію для створення, рендеру або видалення розмітки\nexport function renderCategories(arrCat) {\n  refs.catList.innerHTML = arrCat\n    .map(\n      cat => `<li class=\"categories__item\">\n                 <button class=\"categories__btn\" type=\"button\">${cat}</button>\n              </li>`\n    )\n    .join('');\n}\n\nexport function renderProducts(arrProd, append = false) {\n  const markUp = arrProd\n    .map(\n      ({\n        id,\n        title,\n        brand,\n        category,\n        price,\n        description,\n        images: [img = '/'],\n      }) => `<li class=\"products__item\" data-id=\"${id}\" data-price=\"${price}\">\n                <img class=\"products__image\" src=\"${img}\" alt=\"${description}\"/>\n                <p class=\"products__title\">${title}</p>\n                <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span>${brand}</p>\n                <p class=\"products__category\">Category: ${category}</p>\n                <p class=\"products__price\">Price: ${price}$</p>\n             </li>`\n    )\n    .join('');\n  if (append) {\n    refs.prodList.insertAdjacentHTML('beforeend', markUp);\n  } else {\n    refs.prodList.innerHTML = markUp;\n  }\n}\n\nexport function renderProduct({\n  title,\n  tags,\n  shippingInformation,\n  price,\n  description,\n  returnPolicy,\n  images: [img = '/'],\n}) {\n  const markUp = `<img class=\"modal-product__img\" src=\"${img}\" alt=\"${description}\" />\n                  <div class=\"modal-product__content\">\n                      <p class=\"modal-product__title\">${title}</p>\n                      <ul class=\"modal-product__tags\">${tags.join()}</ul>\n                      <p class=\"modal-product__description\">${description}</p>\n                      <p class=\"modal-product__shipping-information\">Shipping:${shippingInformation}</p>\n                      <p class=\"modal-product__return-policy\">Return Policy:${returnPolicy}</p>\n                      <p class=\"modal-product__price\">Price: ${price}$</p>\n                      \n                  </div>`;\n  refs.modalProduct.innerHTML = markUp;\n}\n","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\niziToast.settings({\n  position: 'topRight',\n});\n\n//Допоміжні функції\n\nexport function showErrorMsg(msg) {\n  iziToast.error({\n    title: 'Error',\n    message: msg,\n  });\n}\n\nexport function showInfoMsg(msg) {\n  iziToast.info({\n    message: msg,\n  });\n}\n","//Робота з loacalStorage\n'use strict';\n\nexport function setDataToLS(KEY, Data) {\n  localStorage.setItem(KEY, JSON.stringify(Data));\n}\n\nexport function getDataFromLS(KEY, emptyData = '') {\n  const savedData = localStorage.getItem(KEY);\n  let data = emptyData;\n  if (savedData) {\n    try {\n      data = JSON.parse(savedData);\n    } catch (error) {\n      data = emptyData;\n      console.error('Error restoring data from the localStorage:', error);\n    }\n  }\n  return data;\n}\n","'use strict';\n\n//Константи\n\nexport const STORAGE_KEYS = {\n  cart: 'cart',\n  wishlist: 'wishlist',\n  theme: 'theme',\n};\n","'use strict';\n\n// Функції для роботи з бекендом\n\nimport axios from 'axios';\nimport {\n  renderProducts,\n  renderCategories,\n  renderProduct,\n} from './render-function';\nimport { showErrorMsg, showInfoMsg } from './helpers';\nimport { refs } from './refs';\nimport { getDataFromLS, setDataToLS } from './storage';\nimport { STORAGE_KEYS } from './constants';\n// import { increaseQuantity, decreaseQuantity } from './handlers';\n\naxios.defaults.baseURL = 'https://dummyjson.com/products/';\n\nlet page = 1;\nlet totalPages = 0;\n\nexport async function getCategoryList() {\n  const response = await axios.get('category-list');\n  return response.data;\n}\n\nexport async function getProductsByCategory(category, page) {\n  const response = await axios.get('category/' + category.trim(), {\n    params: { limit: 12, skip: (page - 1) * 12 },\n  });\n  return response.data;\n}\n\nexport async function getProductById(id) {\n  const response = await axios.get(id.trim());\n  return response.data;\n}\n\nexport async function getProductsByQuery(query) {\n  const response = await axios.get('search', {\n    params: { q: query },\n  });\n  return response.data;\n}\n\nexport async function getProducts(page) {\n  const response = await axios.get('', {\n    params: { limit: 12, skip: (page - 1) * 12 },\n  });\n  return response.data;\n}\n\nexport function loadWishList() {\n  const wlArray = getDataFromLS(STORAGE_KEYS.wishlist, []);\n\n  const promises = wlArray.map(id => {\n    return axios.get(id.trim());\n  });\n\n  Promise.allSettled(promises).then(data => {\n    const products = [];\n    data.forEach(item => {\n      if (item.status === 'fulfilled') {\n        products.push(item.value.data);\n      }\n    });\n    renderProducts(products, true);\n  });\n}\n\nexport function loadCartList() {\n  const cartArray = getDataFromLS(STORAGE_KEYS.cart, []);\n\n  const promises = cartArray.map(({ id }) => {\n    return axios.get(id.trim());\n  });\n\n  Promise.allSettled(promises).then(data => {\n    const products = [];\n    data.forEach(item => {\n      if (item.status === 'fulfilled') {\n        products.push(item.value.data);\n      }\n    });\n    renderProducts(products, true);\n    updateCartData(cartArray);\n  });\n}\n\nexport function updateCartData(cartArray) {\n  refs.spanCartDataCount.textContent = cartArray\n    .reduce((sum, { quantity }) => sum + quantity, 0)\n    .toFixed(2);\n  refs.spanCartDataPrice.textContent = cartArray\n    .reduce((sum, { price, quantity }) => sum + quantity * price, 0)\n    .toFixed(2);\n}\n///////////////////////////////////\n\nexport function resetNumeration() {\n  page = 1;\n  totalPages = 0;\n}\n\nexport const getCategories = async () => {\n  try {\n    let categories = await getCategoryList();\n    // console.dir(categories); //вертає масив рядків\n    categories = ['All', ...categories];\n    renderCategories(categories);\n  } catch (error) {\n    console.log(error);\n  } finally {\n  }\n};\n\nfunction handleProducts(products, append) {\n  // console.dir(products); //вертає об'єкт у властивості products - сидить масив обєктів товарів,\n  // є поля limit = кількість товарів на сторінку, skip=індекс сторінки, total=загальна кількість товарів у виборці\n  totalPages = Math.ceil(products.total / 12);\n  if (products.products.length > 0) {\n    hideNotFound();\n    renderProducts(products.products, append);\n\n    if (page >= totalPages) {\n      hideLoadMoreButton();\n      showInfoMsg(\"We're sorry, but you've reached the end of search results.\");\n    } else {\n      showLoadMoreButton();\n    }\n    page++;\n  } else {\n    clearProductList();\n    showNotFound();\n\n    hideLoadMoreButton();\n    showErrorMsg(\n      'Sorry, there are no images matching your search query.Please try again!'\n    );\n  }\n}\n\nexport const getProductsList = async (append = false) => {\n  try {\n    const products = await getProducts(page);\n    // console.log(products);\n\n    handleProducts(products, append);\n  } catch (error) {\n    hideLoadMoreButton();\n    showErrorMsg('Error loading images from the server!');\n  } finally {\n    hideLoader();\n  }\n};\n\nexport const getNextProductsByCategory = async (category, append = false) => {\n  try {\n    const products = await getProductsByCategory(category, page);\n    // console.dir(products); //вертає масив об'єктів товарів\n    if (products.products.length === 0) {\n      showNotFound();\n      showErrorMsg(`Don't found products by ${category}!`);\n    } else {\n      hideNotFound();\n    }\n    handleProducts(products, append);\n  } catch (error) {\n    hideLoadMoreButton();\n    showErrorMsg('Error loading images from the server!');\n  } finally {\n    hideLoader();\n  }\n};\n\nexport function clearProductList() {\n  refs.prodList.innerHTML = '';\n}\n\nexport function showNotFound() {\n  refs.divNotFound.classList.add('not-found--visible');\n}\n\nexport function hideNotFound() {\n  refs.divNotFound.classList.remove('not-found--visible');\n}\n\nexport const getNextProductById = async id => {\n  try {\n    const product = await getProductById(id);\n    // console.dir(product); //вертає об'єкт товару\n    renderProduct(product);\n  } catch (error) {\n    console.log(error);\n  } finally {\n  }\n};\n\nexport const getNextProductsByQuery = async (query, append = false) => {\n  try {\n    const products = await getProductsByQuery(query, page);\n    // console.dir(products); //вертає масив об'єктів товарів\n    if (products.products.length === 0) {\n      showNotFound();\n      showErrorMsg(`Don't found products by query \"${query}\"!`);\n    } else {\n      hideNotFound();\n    }\n    handleProducts(products, append);\n  } catch (error) {\n    hideLoadMoreButton();\n    showErrorMsg('Error loading images from the server!');\n  } finally {\n    hideLoader();\n  }\n};\n\nexport function showLoader() {\n  refs.loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n  refs.loader.style.display = 'none';\n}\n\nexport function showLoadMoreButton() {\n  refs.loadMoreBtn.style.display = 'block';\n}\n\nexport function hideLoadMoreButton() {\n  refs.loadMoreBtn.style.display = 'none';\n}\n","'use strict';\nimport { refs } from './refs';\nimport { increaseQuantity, decreaseQuantity } from './handlers';\n\n//Описана робота модалки - відкриття закриття і все що з модалкою повʼязано\n\nexport function toggleModal() {\n  // is-open це клас який буде додаватися/забиратися на бекдроп при натисканні на кнопки\n  refs.modal.classList.toggle('modal--is-open');\n}\n","'use strict';\n\nimport { showErrorMsg, showInfoMsg } from './helpers';\nimport { toggleModal } from './modal';\nimport { getDataFromLS, setDataToLS } from './storage';\n\n// Функції, які передаються колбеками в addEventListners\n\nimport {\n  getProductsList,\n  getNextProductsByCategory,\n  getNextProductById,\n  showLoader,\n  hideLoadMoreButton,\n  resetNumeration,\n  getNextProductsByQuery,\n  clearProductList,\n  updateCartData,\n} from './products-api';\n\nimport { refs } from './refs';\n\nimport { STORAGE_KEYS } from './constants';\n\nlet selectedCategory;\nlet query;\nexport let currentProductid;\nexport let currentProductPrice;\nlet currentListItem;\n\nexport function catListOnClick(event) {\n  if (!event.target.classList.contains('categories__btn')) {\n    return;\n  }\n\n  if (selectedCategory) {\n    selectedCategory.classList.remove('categories__btn--active');\n  }\n\n  selectedCategory = event.target;\n  selectedCategory.classList.add('categories__btn--active');\n\n  resetNumeration();\n  showLoader();\n  if (selectedCategory.textContent.toLowerCase() === 'all') {\n    getProductsList();\n  } else {\n    getNextProductsByCategory(selectedCategory.textContent);\n  }\n}\n\nexport function loadMoreBtnOnClick(event) {\n  hideLoadMoreButton();\n  showLoader();\n\n  if (!query) {\n    if (\n      !selectedCategory ||\n      selectedCategory.textContent.toLowerCase() === 'all'\n    ) {\n      getProductsList(true);\n    } else {\n      getNextProductsByCategory(selectedCategory.textContent, true);\n    }\n  } else {\n    getNextProductsByQuery(query, true);\n  }\n}\n\nexport function prodListOnClick(event) {\n  if (!event.target.parentElement.classList.contains('products__item')) {\n    return;\n  }\n  currentListItem = event.target.parentElement;\n  currentProductid = currentListItem.dataset.id.trim();\n  currentProductPrice = +currentListItem.dataset.price.trim();\n  getNextProductById(currentProductid);\n\n  const cartArray = getDataFromLS(STORAGE_KEYS.cart, []);\n  const wlArray = getDataFromLS(STORAGE_KEYS.wishlist, []);\n\n  updateTextAddToCartBtn(cartArray);\n  updateTextaddToWishListBtn(wlArray);\n\n  const cartProduct = cartArray.find(({ id }) => id === currentProductid);\n  if (cartProduct) {\n    refs.productQuantity.value = cartProduct.quantity;\n  } else {\n    refs.productQuantity.value = 0;\n  }\n\n  toggleModal();\n}\n\nfunction updateTextAddToCartBtn(cartArray) {\n  refs.addToCartBtn.textContent = cartArray.some(\n    ({ id }) => id === currentProductid\n  )\n    ? 'Remove from '\n    : 'Add to ' + 'cart';\n}\n\nfunction updateTextaddToWishListBtn(wlArray) {\n  refs.addToWishListBtn.textContent = wlArray.some(\n    id => id === currentProductid\n  )\n    ? 'Remove from '\n    : 'Add to ' + 'wishlist';\n}\n\nexport function searchFormOnSubmit(event) {\n  event.preventDefault();\n\n  const query = event.currentTarget.elements.searchValue.value.trim();\n\n  clearProductList();\n  showLoader();\n\n  if (!query) {\n    showErrorMsg('Please, fill query value!');\n\n    hideLoader();\n    hideLoadMoreButton();\n    return;\n  }\n\n  hideLoadMoreButton();\n  showLoader();\n  resetNumeration();\n\n  getNextProductsByQuery(query);\n}\n\nexport function clearSearchBtnOnClick(event) {\n  refs.searchForm.elements.searchValue.value = '';\n  getProductsList();\n}\n\nfunction newProductObj(id, quantity = 1, price = 0) {\n  return { id, quantity, price };\n}\n\nfunction writeNewQuantityToCartArray(newQuantity) {\n  let cartArray = getDataFromLS(STORAGE_KEYS.cart, []);\n  const cartProduct = cartArray.find(({ id }) => id === currentProductid);\n  if (!cartProduct) {\n    cartArray.push(newProductObj(currentProductid, 1, currentProductPrice));\n  } else {\n    cartProduct.quantity = parseInt(newQuantity);\n  }\n  setDataToLS(STORAGE_KEYS.cart, cartArray);\n\n  return cartArray;\n}\n\nexport function increaseQuantity() {\n  const newQuantity = parseInt(refs.productQuantity.value) + 1;\n  refs.productQuantity.value = newQuantity;\n\n  const cartArray = writeNewQuantityToCartArray(newQuantity);\n  updateStatusesOfLists();\n  updateTextAddToCartBtn(cartArray);\n  if (window.location.pathname.includes('cart')) {\n    updateCartData(cartArray);\n  }\n}\n\nexport function decreaseQuantity() {\n  if (parseInt(refs.productQuantity.value) > 1) {\n    const newQuantity = parseInt(refs.productQuantity.value) - 1;\n    refs.productQuantity.value = newQuantity;\n    const cartArray = writeNewQuantityToCartArray(newQuantity);\n    updateStatusesOfLists();\n    updateTextAddToCartBtn(cartArray);\n    if (window.location.pathname.includes('cart')) {\n      updateCartData(cartArray);\n    }\n  }\n}\n\nexport function addToCartBtnOnClick(event) {\n  let cartArray = getDataFromLS(STORAGE_KEYS.cart, []);\n  let newQuantity = 0;\n\n  const cartProduct = cartArray.find(({ id }) => id === currentProductid);\n  if (!cartProduct) {\n    cartArray.push(newProductObj(currentProductid, 1, currentProductPrice));\n    refs.addToCartBtn.textContent = 'Remove from cart';\n    newQuantity = 1;\n\n    if (window.location.pathname.includes('cart')) {\n      if (![...refs.prodList.children].includes(currentListItem)) {\n        refs.prodList.append(currentListItem);\n      }\n    }\n  } else {\n    cartArray = cartArray.filter(({ id }) => id !== currentProductid);\n    refs.addToCartBtn.textContent = 'Add to cart';\n\n    if (window.location.pathname.includes('cart')) {\n      currentListItem.remove();\n    }\n  }\n\n  if (window.location.pathname.includes('cart')) {\n    updateCartData(cartArray);\n  }\n\n  refs.productQuantity.value = newQuantity;\n\n  refs.spanNavCart.textContent = cartArray.reduce(\n    (sum, { quantity }) => sum + quantity,\n    0\n  );\n  setDataToLS(STORAGE_KEYS.cart, cartArray);\n}\n\nexport function addToWishListBtnOnClick(event) {\n  let wlArray = getDataFromLS(STORAGE_KEYS.wishlist, []);\n\n  if (!wlArray.includes(currentProductid)) {\n    wlArray.push(currentProductid);\n    refs.addToWishListBtn.textContent = 'Remove from wishlist';\n\n    // console.log(window.location.pathname);\n\n    if (window.location.pathname.includes('wishlist')) {\n      if (![...refs.prodList.children].includes(currentListItem)) {\n        refs.prodList.append(currentListItem);\n      }\n    }\n  } else {\n    wlArray = wlArray.filter(id => id !== currentProductid);\n    refs.addToWishListBtn.textContent = 'Add to wishlist';\n\n    if (window.location.pathname.includes('wishlist')) {\n      currentListItem.remove();\n    }\n  }\n  refs.spanNavWishList.textContent = wlArray.length;\n  setDataToLS(STORAGE_KEYS.wishlist, wlArray);\n}\n\nexport function updateStatusesOfLists() {\n  const cartArray = getDataFromLS(STORAGE_KEYS.cart, []);\n  refs.spanNavCart.textContent = cartArray.reduce(\n    (sum, { quantity }) => sum + quantity,\n    0\n  );\n  const wlArray = getDataFromLS(STORAGE_KEYS.wishlist, []);\n  refs.spanNavWishList.textContent = wlArray.length;\n}\n\nexport function cartBuyBtnOnClick(event) {\n  showInfoMsg('Products purchased successfully!');\n  setDataToLS(STORAGE_KEYS.cart, []);\n  updateStatusesOfLists();\n\n  setTimeout(() => {\n    window.location.href = '/'; //go to main page\n  }, 2000);\n}\n\nexport function changeThemeBtnOnClick() {\n  toggleTheme();\n}\n\nexport function toggleTheme() {\n  let currentTheme = '';\n  if (refs.body.classList.contains('theme-light')) {\n    currentTheme = 'theme-dark';\n  } else {\n    currentTheme = 'theme-light';\n  }\n  setDataToLS(STORAGE_KEYS.theme, currentTheme);\n\n  refs.body.classList.replace(oppositeTheme(currentTheme), currentTheme);\n  return currentTheme;\n}\n\nfunction oppositeTheme(theme) {\n  return theme === 'theme-dark' ? 'theme-light' : 'theme-dark';\n}\n\nexport function setTheme(theme) {\n  if (!refs.body.classList.contains(theme)) {\n    refs.body.classList.add(theme);\n  }\n  refs.body.classList.remove(oppositeTheme(theme));\n}\n\nexport function loadSavedTheme() {\n  let savedTheme = getDataFromLS(STORAGE_KEYS.theme);\n  if (savedTheme === '') {\n    savedTheme = 'theme-dark';\n  }\n  setTheme(savedTheme);\n}\n"],"names":["refs","renderCategories","arrCat","cat","renderProducts","arrProd","append","markUp","id","title","brand","category","price","description","img","renderProduct","tags","shippingInformation","returnPolicy","iziToast","showErrorMsg","msg","showInfoMsg","setDataToLS","KEY","Data","getDataFromLS","emptyData","savedData","data","error","STORAGE_KEYS","axios","page","totalPages","getCategoryList","getProductsByCategory","getProductById","getProductsByQuery","query","getProducts","loadWishList","promises","products","item","loadCartList","cartArray","updateCartData","sum","quantity","resetNumeration","getCategories","categories","handleProducts","hideNotFound","hideLoadMoreButton","showLoadMoreButton","clearProductList","showNotFound","getProductsList","hideLoader","getNextProductsByCategory","getNextProductById","product","getNextProductsByQuery","showLoader","toggleModal","selectedCategory","currentProductid","currentProductPrice","currentListItem","catListOnClick","event","loadMoreBtnOnClick","prodListOnClick","wlArray","updateTextAddToCartBtn","updateTextaddToWishListBtn","cartProduct","searchFormOnSubmit","clearSearchBtnOnClick","newProductObj","writeNewQuantityToCartArray","newQuantity","increaseQuantity","updateStatusesOfLists","decreaseQuantity","addToCartBtnOnClick","addToWishListBtnOnClick","cartBuyBtnOnClick","changeThemeBtnOnClick","toggleTheme","currentTheme","oppositeTheme","theme","setTheme","loadSavedTheme","savedTheme"],"mappings":"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"}